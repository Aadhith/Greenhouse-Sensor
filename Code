
// include the library code:
#include <LiquidCrystal.h>

// initialize the library with the numbers of the interface pins
LiquidCrystal LCD(12, 11, 5, 4, 3, 2);

//Constants and Parameters
float MinTemp = 18, MaxTemp = 24;


const int temp_trans_pin = A0;
int readPhoto;
int sensorValue = 0;



void setup() {
  // set up the LCD's number of columns and rows:
  LCD.begin(16, 2);
  LCD.print("Room Temp(C)!");
  LCD.setCursor(2,1);
  LCD.print(MinTemp); LCD.print("-");LCD.print(MaxTemp);
  pinMode(A1, INPUT);
  pinMode(13, OUTPUT);
  delay(2000);
}

void loop() {
   
   float Eqv_volt, SensorTemp;
 
 // Read voltage and convert to temperature (Celsius)
   
   Eqv_volt = analogRead(temp_trans_pin) * 5.0 / 1023;
   SensorTemp = 100.0 * Eqv_volt-50.0;
    
  // Display the sensor reading
   
    LCD.clear();
    LCD.print("Sensor reading:");
    LCD.setCursor(2,1);
    LCD.print(SensorTemp); LCD.print(" C");
   
    delay(2000);
  
 /*Compare the sensor reading with the range of
  acceptable temperatures*/
  
   if(SensorTemp > MaxTemp){
     LCD.clear();
     LCD.print("temp is HIGHER!");//higher than the max
     LCD.setCursor(0, 1);LCD.print("Turn on AC!");
     delay(9000);

     LCD.clear();
     LCD.print("Now Temperature ");
     LCD.setCursor(0, 1);
     LCD.print("is Normal!");
     delay(2000);
       }
  
  
  else if(SensorTemp < MinTemp){
      LCD.clear();
      LCD.print("temp is LOWER!");//Less than the min
      LCD.setCursor(0, 1);
      LCD.print("Turn on HEATER!");
   
      delay(9000);
    
      LCD.clear();
      LCD.print("Now Temperature ");
      LCD.setCursor(0, 1);
      LCD.print(" is Normal!");
    
      delay(1000);
    
      LCD.clear();
      }
  
  else if(SensorTemp > MinTemp && SensorTemp < MaxTemp){
       
      LCD.clear();
      LCD.print("Temp is NORMAL!");
    
      delay(1000);
      LCD.clear();
   }
  else {
      LCD.clear();
      LCD.print("Something went");
      LCD.setCursor(2,1); LCD.print("WRONG in the ckt");
      delay(1000);
      LCD.clear();
    }
    delay(1000);
  
  
  sensorValue = analogRead(A1);
  // print the sensor reading so you know its range
  Serial.println(sensorValue);
  // map the sensor reading to a range for the LED
  
  analogWrite(13, map(sensorValue, 0, 1023, 0, 255));
  
